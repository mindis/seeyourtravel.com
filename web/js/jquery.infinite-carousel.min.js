$.fn.infiniteCarousel=function(){function n(n,t){return new Array(t+1).join(n)}return this.each(function(){function s(n){var t=n<f?-1:1,e=Math.abs(f-n),s=u*t*i*e;return r.filter(":not(:animated)").animate({scrollLeft:"+="+s},500,function(){n==0?(r.scrollLeft(u*i*o),n=o):n>o&&(r.scrollLeft(u*i),n=1);f=n}),!1}var r=$("> div",this).css("overflow","hidden"),e=r.find("> ul"),t=e.find("> li"),h=t.filter(":first"),u=h.outerWidth(),i=Math.ceil(r.innerWidth()/u),f=1,o=Math.ceil(t.length/i);t.length%i!=0&&(e.append(n('<li class="empty" />',i-t.length%i)),t=e.find("> li"));t.filter(":first").before(t.slice(-i).clone().addClass("cloned"));t.filter(":last").after(t.slice(0,i).clone().addClass("cloned"));t=e.find("> li");r.scrollLeft(u*i);r.after('<a class="arrow back">&lt;<\/a><a class="arrow forward">&gt;<\/a>');$("a.back",this).click(function(){return s(f-1)});$("a.forward",this).click(function(){return s(f+1)});$(this).bind("goto",function(n,t){s(t)})})};$(document).ready(function(){$(".infiniteCarousel").infiniteCarousel()});